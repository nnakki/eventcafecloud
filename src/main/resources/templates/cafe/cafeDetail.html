<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragments/header :: header"/>
    <th:block th:replace="fragments/mainHeader :: mainHeader"/>

    <style>
        #mainContainer {
            width: 80%;
            margin: auto;
        }

        #cafeDetailTop ul {
            display: flex;
        }

        #cafeDetailTop ul li {
            font-size: 0.8em;
            color: black;
            margin-right: 10px;
            padding: 3px 4px;
            border: solid 1px lightslategray;
            border-radius: 50%;
        }

        #cafeDetailTop .titleBox {
            font-weight: bold;
        }

        #cafeDetailMiddle {
            display: flex;
            padding-top: 50px;
        }

        #cafeDetailMiddle .leftImgBox {
            width: 65%;
            /*height: 20%;*/
        }

        #cafeDetailMiddle .leftImgBox .carousel-inner div img {
            height: 600px;
        }

        #cafeDetailMiddle .rightInfoBox {
            width: 33%;
        }

        #cafeDetailMiddle .rightInfoBox {
            margin-left: 50px;
        }

        #calendar {
            height: 500px;
        }

        .titleBox {
            font-weight: bold;
            font-size: 30px;
        }

        .infoBox {
            color: #9B9B9B;
        }

        .eventButton {
            width: 400px;
            border: none;
            paddinb: 20px;
            background-color: #4C7A01;
            color: white;
            font-size: 20px;
            font-weight: bold;
            border-radius: 5px;
        }

        #eventRegisterBtn {
            padding-top: 10px;
            text-align: center;
            margin: auto;
        }

        #cafeDetailTop ul li {
            background-color: darkorange;
            color: white;
            border-radius: 0px 0px 5px 0px;
            font-family: 'Poor Story', cursive;
            border: none;
        }

        #cafePriceInfo {
            background-color: #F5F5DC;
            border-radius: 0px 0px 20px 0px;
            margin-top: 10px;
            font-weight: bold;
            padding-left: 20px;
            padding-top: 10px;
            padding-bottom: 5px;
        }

        #cafeDetailBottom {
            background-color: floralwhite;
            padding: 30px;
            margin-top: 20px;
        }

    </style>
</head>
<body>
<div th:replace="fragments/mainTop :: mainTop"/>
<div class="topBanner">
    <div class="topFont">Ïπ¥Ìéò ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄ</div>
</div>
<button th:onclick="|location.href='@{/cafes/updateForm(id=${cafeDetailResponseDto.getCafeNumber()})}'|">ÏàòÏ†ï</button>
<form id="delete-form" th:action="@{'/cafes/' + ${cafeDetailResponseDto.getCafeNumber()}}" method="post">
    <input type="hidden" name="_method" value="DELETE"/>
    <button>ÏÇ≠Ï†úÌïòÍ∏∞</button>
</form>
<div id="mainContainer">
    <section id="cafeDetailTop">
        <div class="titleBox">
            <h1 th:text="${cafeDetailResponseDto.getCafeName()}"></h1>
        </div>
        <div class="infoBox">
            <h3 th:text="${cafeDetailResponseDto.getCafeInfo()}"></h3>
        </div>
        <div class="optionBox">
            <ul>
                <li class="optionList" th:each="cafeOption : ${cafeDetailResponseDto.getCafeOptions()}"
                    th:text="'#'+${cafeOption}"></li>
            </ul>
        </div>
    </section>
    <hr>
    <section id="cafeDetailMiddle">
        <div class="leftImgBox">
            <!-- Carousel -->
            <div id="demo" class="carousel slide" data-bs-ride="carousel">
                <!--     Ïù¥ÎØ∏ÏßÄ Ïä¨ÎùºÏù¥Îìú ÌÉÄÏûÑÎ¶¨ÌîÑÎ°ú Ï≤òÎ¶¨ÌïòÎäîÎ≤ï Î™®Î•¥Í≤†Ïäà  activeÍ∞Ä Íª¥ÏûàÏñ¥ÏÑú Ïù¥Í±∏ Ïñ¥ÎñªÍ≤å Ìï¥ÏïºÌïòÎÇò Î¨∏Ï†úÎÑ§     -->
                <!-- The slideshow/carousel -->
                <div class="carousel-inner">
                    <!--                    <div class="carousel-item active" th:each="cafeImg : ${cafeDetailResponseDto.getCafeImgUrls()}">-->
                    <div class="carousel-item active">
                        <img alt="Los Angeles" class="d-block" style="width:100%"
                             th:src="${cafeDetailResponseDto.getCafeImgUrls().get(0)}">
                        <div class="carousel-caption">
                        </div>
                    </div>
                    <!--                <div class="carousel-item">-->
                    <!--                    <img alt="Chicago" class="d-block" src="/banner2.png" style="width:100%">-->
                    <!--                    <div class="carousel-caption">-->
                    <!--                    </div>-->
                    <!--                </div>-->
                    <!--                <div class="carousel-item">-->
                    <!--                    <img alt="New York" class="d-block" src="/banner3.png" style="width:100%">-->
                    <!--                    <div class="carousel-caption">-->
                    <!--                    </div>-->
                    <!--                </div>-->
                </div>

                <!-- Left and right controls/icons -->
                <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>
        </div>
        <div class="rightInfoBox">
            <div id='calendar-container'>
                <div id='calendar'></div>
            </div>
            <div id="cafePriceInfo">
                <p th:text="'üìå ÌèâÏùº Í∞ÄÍ≤©' + ${#numbers.formatInteger(cafeDetailResponseDto.getCafeWeekdayPrice(), 3, 'COMMA') + 'Ïõê'}"></p>
                <p th:text="'üìå Ï£ºÎßê Í∞ÄÍ≤©' + ${#numbers.formatInteger(cafeDetailResponseDto.getCafeWeekendPrice(), 3, 'COMMA') + 'Ïõê'}"></p>
            </div>
            <div id="eventRegisterBtn">
                <button class="eventButton"
                        th:onclick="|location.href='@{/events/registration(cafeId=${cafeDetailResponseDto.getCafeNumber()},
                        weekdayPrice=${cafeDetailResponseDto.getCafeWeekendPrice()},
                        weekendPrice=${cafeDetailResponseDto.getCafeWeekendPrice()})}'|">
                    Ïù¥Î≤§Ìä∏ ÏòàÏïΩÌïòÍ∏∞
                </button>
            </div>
        </div>
    </section>
    <section id="cafeDetailBottom">
        <hr>
        <div id="cafeInfoDetail">
            <h3>ÏÉÅÏÑ∏ Ï†ïÎ≥¥</h3>
            <h5 th:text="${cafeDetailResponseDto.getCafeInfoDetail()}"></h5>
        </div>
        <div id="openHour">
            <span>ÏòÅÏóÖ ÏãúÍ∞Ñ : </span>
            <span th:text="${cafeDetailResponseDto.getCafeOpenTime()} + ' ~ ' + ${cafeDetailResponseDto.getCafeCloseTime()}"></span>
        </div>
        <div id="cafePrecaution">
            <h3>Ïú†ÏùòÏÇ¨Ìï≠</h3>
            <p th:text="${cafeDetailResponseDto.getCafePrecaution()}"></p>
        </div>
        <div id="cafeLocationInfo">
            <div class="cafeAddress">
                <p th:text="${cafeDetailResponseDto.getCafeZonecode()} + ' &nbsp;' + ${cafeDetailResponseDto.getCafeAddress()}"></p>
                <p th:text="${cafeDetailResponseDto.getCafeAddressDetail()}"></p>
            </div>
            <div id="staticMap" style="width:600px;height:350px;"></div>
        </div>
    </section>
</div>
</body>
<script th:inline="javascript">
    let x = [[${cafeDetailResponseDto.getCafeX()}]];
    let y = [[${cafeDetailResponseDto.getCafeY()}]];
    let id = [[${cafeDetailResponseDto.getCafeNumber()}]];
</script>
<script src="/js/cafe/kakaoMapForDetail.js"></script>
<script src="/js/cafe/calenderApi.js"></script>
</html>